<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>Storage service report for {{ today.strftime("%-d %B %Y") }}</title>

    <style>
      body {
        font: 12pt 'Helvetica Neue', Helvetica, Arial, sans-serif;
        color: #121212;
        line-height: 1.5;
        margin: 0;
        margin-bottom: 3em;
      }

      footer {
        margin-top: 4em;
        border-top: 1px solid #ccc;
        font-size: small;
        color: #999;
        padding-top: 10px;
      }

      div.content {
        max-width: 1000px;
        margin-left:  auto;
        margin-right: auto;
        padding-left:  1em;
        padding-right: 1em;
      }

      @font-face {
        /* The Wellcome font, run through https://transfonter.org */
        /* It was base64 encoded and trimmed to the charcters ADFJMNOSabcefghilmnoprstuvy0123456789 --
           the only ones we'd ever use in the title of this report. */
        font-family: Wellcome;
        src: url('data:application/font-woff2;charset=utf-8;base64,d09GMgABAAAAABTgABEAAAAAJpgAABSBAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGhYbglgcGgZgAIEUCDAJhGURCAqxcKxYC1QAATYCJAOBJAQgBYhcB4ECDIIYG4QiRYdCjwNK8AMg+78+MMfQ2SHtiXrLSyOXNIwJj7ZebFozL5Yg3r5utCMp+mfnh3/ehqKkDIq46ZkxkLPh0X4AYXLu+pkHUFv0S3fHXk7o6EZIMvt/OdP/NZJlz8isBZZ5N9YCshODwnwqgdyyXaIgkd3Xd++p6RH4YJ0DS7sfFb9Jg/BUqSthLWx4Ovd9eVZd2iIn3GoLwBJXXrhafEsfsHn+Zc+dd/+fqKhCVaJk1hWbYGOkpHelCtH9SefrIbwjySLzB3Qih1qet85rYNi9LPXz13JXuDu3yRTmZ2R3c7aAMFOkeCDf/NSJV0CFFlEZ7n+A8dj+436vNx8ozcMyp2WVdiTVjJhU59xkqMQUu2XIPrX0dczeW0n/77qUrjSCCjIMoQHsbk9td9XuftNJKXJXcZFbl1PlTFAAygSZOgBJaaXCVnh4aIYHIGxAWR7idIToFqpOG7ku4v33YGVb0qYY+MU7Hw0IQNKKOahc8fytAVCFVPi+uXoshwcAmUT9dbePi7AX4rMINDo36PuQtOnBu/g542e/+AsBt2gBJDFhLGwyZctRyMMvILJu6GuMZ+mDBFmK5fZGvnZToI8qbtlZus2MrJfM7kfqFmRoU/qmPGoz+w2AQVZyWGyXuo/1E/2EWLN5TD8Sb/yWbnj8CN7gR75Z+CaDRH2gQjc99MUo0x8kCvsNqI/5UaM23KxIhs+kTJlySbbpikzZudELk2g5axzgPpksBsPLR4NXg0lW3ha9udBlNo8BxavLe53Dij8gSbm+itsTSlfBgSGJkY3D5iKe/vXlsyEkikadSDTe2NydxOSLKqCouMLhDa+eVPa/u7virNNOOe6oQ7Z2Szd1Y9cbZRRw+yF8tJhB1wIYipGzcU+84KtNn36AxZAuPdip5g+gHgTnMEbaFUMLBvC0RzAEJ5fY8Se0bvwAdJZFCVBV3iAFS8Gpw51aI+YSEHVJxOiIOc2hwxLwqrMRTtyKftKlETT1l55PTXEQLtegb8G86v1HCQTVHN+fwKAecodISKFsTB8kwJQEonrIezje0WtUHWkuyOAOk6qsE7zmC7o0BvENCoP3DwFC6hf4OVw+Mp+cM/J7iUkBWZEyq6UotfdwJ1OVO1XemKQqGYjB6cpcJ7Vj86w8Oe5cQ6xZqK+q7O/gu+IV76Gy4nGIDhMarQzZqbof7yxCRpY8Rc4RP/nhTv3sb2BAlJdzt+y3qh5+In5mYW3qIgecov4g7x+UYM8VBo0dqwRNPfLJ2vyADmuXno6bc1i/KIi6ZFQLXW86Y/aF/dBk1aFJqokHFRsX0wn7vHK8Ax1heWVl2HRoC+7BXN8YRbU8YpLKOAM8XaSATWN0nEdtgwLEROU2KgjHQ5lAzlSWmDgjBhMLBuhsadxa0//FlpQVTHqCOkB+QDgZXdkIpJdEqikw2DYIbnzRMblLsV/Bfr76F4nJesWUW9maWV22rhmNlu2UG4/Kamt2PPLbrpnMztjZjWK213NHS5PxnFvwK6tFa/uuJ8oYE+i0eDrNks9Af/qUJlKa/owl0xhP0cTTWdoOlnwEPBU83pFZgN5QZKTfDFLUPowHF+2p7VLW2iEnI2PHz2O8XRvvkdCctkNviTxD1bVh8bxF0ckt/QwZ1KAWT1jNiXZvru5OQ2IGCZI3RGi4/690PYpG8L2ylC+jL71qMFrJ0AzLXhybVR3R4loKc/RNNnJj55NUWn/m/VTip2U0K44RyKS1dTF6rxoo0twW1T5QkcKWRGKHqZSoiEzbwVjtrNxYjG7MjjDRLMP2GEsS6qVMtIIE99oivbLMadqqe2z3AgqM51ljIot9n65tlG3Jm7YlzZiBChpNZE9e+zSRKtytpjTKX2ZBGBPu9CkTkzvTpvSn8tupjI4i736iaY80rp2/narsfR1zlmmBfu7WM1G554fedetB+gZLEm9PeFdmeyLQV/lGI03baaJGUZxraesRj5rjbkZFBndsa2L3t3u1U/5SaOj7/EDLEWnRwfS0eFDM0L4TC7UdLPJtBr36acgwnn5wgzGgiZ0ADChHSVQ75RY+wPhu71aa4L9vG0sGAqYy075d+38tg5yWG58ykUFA4ieG8cfHx6SUYwLjZyIDzb5+WgQnGw2tZNttDzH4LXjau249p3hVuDoz7gF23VCOnHZplXyZCy0eZFAr9WGvWQdUiDrOH10FcCwC9qE1o5HVp3WqYa9f005pa1OtvB33ngT9ViQM1LYYZR4fGehrZZkBBX2X4YZdv59C1Ajj9Ef6sBM7TmStxp3DVmWMRibstoZWfPSUaEZ6t49Oj91OlSV3i1ia+kkffEopMi/ATCWyZ02a9Zx1PPq4wKWjMnBzb0HunNmPdlQGberJz5kz52H/tp6YZljTXmV398aYNHBMswRafiC/m8pF2Z4GQbz/Er+bYzgxzZIdnzu7qSD+/8PHmkdYZFAQHOxgP0uiqOQ4Sz1d+Aq3hVroQJMdFO/rFRAl9ExsxS276WCLSknyf0REZrmssHMR95jDSNkVUeVrOyvTluZqsO/pNyh/G2QvFjJS8ntATzvS3gbartiLfQ0cY2aUMCZNBqsyZapA1I9pVyFSX8EDRDtvahXaZJmVa5g12zy/GDLH2AB1YW2ADmSnxKcK/eOdxTyeCCUXqPyzajuHsw2WuS36Grmkkm2exaQtrguUK93cZXKZS5hjJNSPNDmddSCVTl1l8nwWaNGNLnZ8WmQQafxiSpY2PlrcWBKj8TOIilKW9TOW9FsGkvXiWXpxcrhkyG1Cpsa/9g9Qe2V3QHTDwJxWvVEurmJ1wlwWcnnCT4ov9Ulr7BnuNbiqlGJXveMN0qJ6kVwZOej02cD/3OgOJVcxJjOrhmcqYhya3r/oVqpoMyl23K9rXid7CynUZWsv7d6Jj7UMae84NLYjtTap48yvFOk4sZRrhUT82bOOCsjc6LRPTLMOn7ECZMeaM3VyI+wgpFiEEp/XUipGNf5KTEp9LfERWiiAMCpholMSWzYi5eul/JHYMgl24qgEwl0hZdhN6vJm7mucdCqvDwSUIXep6+u5L3HyKUQfOACdL1t9X/u+Gt+9a81dDWXEnNEadxCFbVZOeish1TPVWSGKcvdh+S9T47TTh5mruLBHyqCpbVZRUliuTpImVLo6UN0XqbHwjGHuOm64ty6muNUlJGVQnOKy2pEdPHoE+9VBx6dFsOzTqe+88vP8qzPr8tPnEZ5NTtNVRU/OwKgkODihNrE/kvmJ5yvG7GTxg4KtTyPBE9zge8ipacmieuPs5dW+wZgXBOuc8pYnfFGcbiROL+I/iYGODgU2IhGJWaUyUUWCh68Mjq2HY2U+SZ7CymJZTiISEQihjOtXGnNW9Wa7yrzdPw05G4o0YQ7BBkOQ0bR+MVhOZh2henuHCz284+ThkAXJ9Apmhz09Y6dFtIw8pq8JMQ2AgRBWX0BhRZO1l8drEoM9aVEqsXaOpck4a4lM3/wPPOPmKXHKrPQs9RyHhMNKqTIQ/R0zpZhwRSCK09UIKeAbaTUz5CJze5YUwPZyDwyMwo2ZpxDSAK3fNATs9xDcOgDqIAH5n7HSUxoBO2F36aoOTcGh45lsScPAFHQKj1PY1ZwBgwgbd0/2/xNQ6Pqx6BcM9EyQhgc/XwCfWbSJTKrnWRd2g460lnrah5BdLw5p/BWChj7tW2msbj03YkW1kZpQFZVQGymHJwYEyrH79aWWQAbmb/k/zcY8uLa8fsnCJo+/Z4Aj4fiUlVYJdO+MgzxGrRPKE+R+SdjdusqFC1HYDK69MjdyWqiaHtDL5AMVNQ2kEQBVhNWJs+8Mw0R7/gaqY4pHBgPWens4adRc6Qx3fr2HoDzDMVKQhyFFcB0000bYfLmrhyscAmnRkL5aUEWyIESBlWA92I1hE4idiOkCM4+hRbR2Z56yw4LPRgVfkwLYWuo53TpidpMrPRHE4Rt/faf38FDsn3b3Yhu7Wgs98aD31i/pEl1MuBLqOoX9w+TV7MTOHmtXz85xbne+mpyQwpeHIlk0g591Uy6jZyJGpzdUstkPFxT82aIo8a4EFbylUsz9R4e7I9Ui8Uw0KyMF+mc2GC9ANwafEYAV+4KkkJMdXUPd0LIQhH0CKdH7ODsXVUi8UiI+OtUdeQN/gbo5YZBShaBaUjcB07CBklZQDHGcQ9qzUHSXlwbLBd2NArhVopvtvLTheZB+w5xQfsOQgZDEnkwUmxXACRLLEJXLxMd/pRuz5gxykSF6LTPrTQi7xZXtbYySLjROGRR55pRl1XUe9spMM/zqExl6uEG7AG5QK6PnYWZHkNHXFeJGAmqxw57+MeoG7DehzLW0XdAERmNnmUlTsSd1arl0C7rDYfdPaxY1sEVgmV2CLKmNAhSuPfjM3eiKvwCfDpEiVbPL2+pJSxFDsSA1mei5FZxmVTrP9W0SgQccUCM++jQPs5WU5+3JqL8hJaJ4qMJYqIfxBOn3FqMB6Z4O8LoQ1Qs6BjjBLQxkE0IOOfCclqEaOj+0nOz1POII1p1KBlK8mzMmUM3os+jbvmSe7GuZWN2QQAjYpftSTM8szAdgR2faKG84tCflUWEhZcm+Q6ZmUZV+mjnk4XxEGnau66JgYAKguXNUM5odQWWPWBgEoGeXqfoAOCcQbQPs2j49qWCN81Se7RguHI0hla2RoviIOKAma2MiFLUgFsAu0Z+ifYYGOlflHm12L0FnTVlBJgfbkYwUMmEqMfZ22KoBRRcZqN9DRwSMedJkLUFG5SUCIGEmmCQmkwgHdFq9JDQQrgkMCMc6jgDdQfC5/EHxZXzy49mH9aj5SYEFMH8nF38gvz/5O3+WTkHByj6gW/Xj9YdZQyw4RMGHrQ8q7Y6gFhpljXL6MfGhJ1HUTdBz397LyB3KB8PRxM7OLa+cjB6EOfV38e+IhRjVjZa6EBRLOZpEx4ZGTZfs1/6q399FJoiaYe0fHzmmXEnrfzRLc1/6U1a63F6eU0Tnv3eq3yRa0N2EjuMbhZBBdiMlo2G8l+CgJa7YpY+Zo9jgBVCcYhhl++wzX0FN8Jj4N8h0n7l2fn2/0Tlnti4BFDdp5jKY3U40Hl4dxisfXNaExdPynMT7Yg1KOPfRkjzjjBedbaJFXIXqGCZDPB0vKdm0MdjDPbxlXXYHgVA+HB4Ly294T7ENclAtiANeqzblsOpE2ZcglEVTlcenamST4viIQWSDmQNzk6zIDn2NCoALcxVed/tEbtMQV4NB10RhUAwLLbpchCgIFUvOdLhOEaMhSAjmhEuRpeeCFpapk0zfdGMrHfYYOyJkHoq6ypjeKJ8BMIjn9DkJZNtiRs4axNggF5UY1xGv2W8DaZWsU28ga65RQ1jdeC3o3exaZEUBb+2VwMqjzplnPmTR+kiOONLCGK8tbC9kQ8PgEnLkAXDAUxty5eT4IXU47Skl7XurbW37lNGEfH1o6QEOQ9Vg2ebC+XiXtJFKMVMgzOSqkfOJMCJrmy5pj6ZrdQMZV4gyxdokU9bw8oRqg62kzonFFLW6NDG5CBNEeN3K5F6Km4RKSPGwK8+Xl/yqOMxVHjJr6FeNVzzgvoF7iEZmXjCzIId8s0ffP9QN2SlHUvLQmbNqm/pUUU4y9EY4HWvnMVtsZvFKGCv9F9hCFMaEjq3fGJyj1glgpgvCkGIwgAoaekWxSCjAtLCMFKjeam3+L2iU/L2IZVwYEeQsSooPjjXki8MZmak5rEguteOdTLmrWMyFPHunBrUZs9Vxht2tElHhzHqxuipQDKgoIUcblapjoJsNG2ns7WCpIh4l56IUNr4nbc1+6wS2QbbHkIhUY6dkgJLcJFbHTpI/RkBxsYf4FAKfdJbFLp8F2k6kLFQKkomRSceABRM4AXI2TAoC6uwJOAX3eSVMk3CRmlMP2pVC6FKwh9pobIFAO6BA7yJ7bzDytMKpA4l2I7sSG1dlpM4wq8mrsfULY2RXWFt2MXc+uCeXCSE6PBTlbsscqqRBb9Qgufff/6+S4p8/crvum5cAADx5iC+Wb+D7k43/H1bPOwAy4gA45g//RTX5Z1ff6loPCLolkwfpmjNh9yzcV9VcU5w07SwYTzXBpU4xc1cjF+YIxzmn3kXzo858Bm0vFC+dyOfmN56zN33INW2Y6D8vtJ3T/t6wuVg4covJ11tWw2WtmY9mzWjsBdTNOSaH8/PM63vrJ5lmucqQVAmeBY8y1SePRnfKftOLamabRkZqmsOrSRN2DWme2aARuGRMgSG1KC2ayE2bCK4Npyb7I3A1AcC8caeRbYxpjnESacI9IM3LnS1GgNQ5GlIf0qLNoWkTmr2XUQdz/J8wUL/Xld9VPPv//JlVdv5dc/obIPRrz/qLMPTftHO6iOHo+IKmNn+0Tu6ChXr2LWY7Kzu9noe5smhnX1S+6I04fRyyf4OmPqvfPdP3xX79b9/LvDZ9ZafTqUpXh3wQ/scB+hfv7n+PVgAbhF+AwUQo7zh4C/7EEp31f7cT62YwRWyStw8XKDZPnaJKhUp1FHNFQBlFJ5UKoM7ZM8+RT+Nr84haonm27wzaanA0KjuKNjayIMLOm1DjFm3KxgQ4u0tXFWi6FXrskNDoul2pTEWdZ3nX7sbb8YRqeC09uSZeXfACY24/Z+/WFhruU9kV6WfR6Ku6heese+RDfPXQRhs32RTg3MrlkhsPgSv1nrvbzXWsaiV291T7GCzRGi8vMB8wuqztwre2f+5cHyYhDt2N80DOFzEYaZOK3I3wRoTtwrn9Qd3epbJMNIb/Tee7HX0+JQCDBAgnWYZMWbLlyJUnn1dAiVIkU2W+0B4UGovDE4jGJqZm5pZW1ja2DptF78j89BevbXBy/m8lBH4KwzCGdAvxsylbfS/xHgqbNUHupPehT8mGIThdA1ClFyTYA17p3SYiF9yhMMbTME/4guI8g4fGeWIeTfOMIuk80wDZPCpSSrHbQ5gFw9ZzDGZOArf9EOlbMLTO2L52aVlgrXF26DZv/1vH8BZ2bpxxlvMdmzsMch4AAA==') format('woff2'),
             url('data:application/font-woff;charset=utf-8;base64,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') format('woff');
      }

      aside {
        background-color: #FEC200;  /* runny yolk */
        font: 18pt Wellcome, sans-serif;
        padding-top:    0.5em;
        padding-bottom: 0.5em;
        border-bottom: 5px solid black;
        margin-bottom: 1em;
      }

      a:hover {
        text-decoration: none;
      }

      table {
        width: 100%;
        border-collapse: collapse;
        margin-left: -14px;
      }

      h1, h3, .no_activity {
        margin-left: 14px;
      }

      .no_activity {
        padding-left: 14px;
      }

      tr.status-succeeded td:first-child {
        border-left: 6px solid #4C8026;  /* sherwood 2 */
        padding-left: 14px;
      }

      tr.status-processing td:first-child {
        border-left: 6px solid #009BB2;  /* bora bora */
        padding-left: 14px;
      }

      tr.status-failed td:first-child {
        border-left: 6px solid #E10F2D;  /* brogues 3 */
        padding-left: 14px;
      }

      tr.status-accepted td:first-child {
        border-left: 6px solid #FEC200;  /* runny yolk */
        padding-left: 14px;
      }

      .status-succeeded a {
        color: #4C8026;  /* sherwood 2 */
      }

      .status-processing a {
        color: #009BB2;  /* bora bora */
      }

      .status-failed a {
        color: #E10F2D;  /* brogues 3 */
      }

      .status-accepted a {
        color: #cc9c00;  /* runny yolk */
      }

      h1, h3 {
        margin-bottom: 5px;
      }

      th {
        text-align: left;
      }

      td {
        padding: 3px;
        vertical-align: top;
      }

      td.ingest_id {
        font-family: monospace;

      }

      .last_event td {
        padding-left: 2.5em !important;
        font-size: 90%;
        padding-bottom: 1em;
        line-height: 1.5em;
      }
    </style>
  </head>

  <body>
    <aside>
      <div class="content">
        Storage service report for {{ today.strftime("%-d %B %Y") }}
      </div>
    </aside>
    <main>
      <div class="content">
        <p>
          Here's everything that happened recently in the storage service.
          {% if not found_everything %}
            Elasticsearch can only return the first 10,000 results.
            There may be ingests missing from this report.
          {% endif %}
        </p>

        {% if not ingests_by_status %}
          <p>No activity!</p>
        {% endif %}

        <table>
          {% for label in ["prod", "staging"] %}
            <tr>
              <th colspan="3"><h1>{{ label }}</h1></th>
            </tr>
            {% if ingests_by_status.get(label, {}) %}
              {% for classification in [
                "failed (unknown reason)",
                "stalled",
                "failed (user error)",
                "failed (known error)",
                "accepted",
                "processing",
                "succeeded"
              ] %}
                {% if ingests_by_status[label].get(classification) %}
                  <tr><td colspan="3"><h3>{{ classification }}</h3></td></tr>
                  {% for ingest in ingests_by_status[label].get(classification) | sort(attribute="lastModifiedDate", reverse=True) %}
                  <tr class="status-{{ ingest.status }}">
                    <td class="ingest_id">
                      <a href="https://wellcome-ingest-inspector.glitch.me/ingests/{{ ingest.id }}">{{ ingest.id }}</a></td>
                    <td>{{ ingest.space }}</td>
                    <td>{{ ingest.externalIdentifier }}</td>
                    <td>{{ ingest.version or "(no version)" }}</td>
                    <td title="{{ ingest.lastModifiedDate }}">{{ ingest.lastModifiedDate | pretty_date }}</td>
                  </tr>

                  {% set last_event = ingest|last_event %}
                  {% if last_event and ingest.status != 'succeeded' %}
                  <tr class="status-{{ ingest.status }} last_event">
                    <td colspan="5" {% if loop.last %}style="padding-bottom: 3px"{% endif %}>
                      Last event: {{ last_event.description|add_s3_uri|safe }}<br/>
                      <span title="{{ last_event.createdDate }}">{{ last_event.createdDate | pretty_date }}</span>
                    </td>
                  </tr>
                  {% endif %}

                  {% endfor %}
                {% endif %}
              {% endfor %}
            {% else %}
              <tr><td class="no_activity">No activity!</td></tr>
            {% endif %}
          {% endfor %}
        </table>
      </div>
    </main>
    <footer>
      <div class="content">
        Report generated at {{ now.isoformat() }}
      </div>
    </footer>
  </body>
</html>
